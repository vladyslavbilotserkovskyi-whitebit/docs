---
title: "Modify order"
openapi: "/openapi/private/http-trade-v4.yaml POST /api/v4/order/modify"
---

### Modify order

<ApiEndpoint method="POST" path="/api/v4/order/modify" />

This endpoint modify existing [order](./../glossary.md#orders)

Supported order types: limit, stop limit, stop market, stop limit

Request must contain one of the following parameters: `amount`, `price`, `activationPrice`

❗ Rate limit 10000 requests/10 sec.

**Response is cached for:**
NONE

**Parameters:**

| Name            | Type          | Mandatory                      | Description                                                                                  |
| --------------- | ------------- | ------------------------------ | -------------------------------------------------------------------------------------------- |
| orderId         | Integer       | **No if clientOrderId is set** | Active order id [order](./../glossary.md#active-orders). Example: 834506                     |
| clientOrderId   | String        | **No if orderId is set**       | Identifier should be unique and contain letters, dashes, numbers, dots or underscores.       |
| market          | String        | **Yes**                        | Available [market](./../glossary.md#market). Example: BTC_USDT                               |
| amount          | String/Number | **No**                         | Amount of [stock](./../glossary.md#stock) currency to buy or sell. Example: '0.001' or 0.001 |
| total           | String/Number | **No**                         | Total of [money](./../glossary.md#money) currency to buy or sell. Example: '0.001' or 0.001  |
| price           | String/Number | **No**                         | Price in [money](./../glossary.md#money) currency. Example: '9800' or 9800                   |
| activationPrice | String/Number | **No**                         | Activation price in [money](./../glossary.md#money) currency. Example: '10000' or 10000      |

❗ Use total parameter instead of amount for modify buy stop market order.
❗ Modification by clientOrderId takes priority.
❗ The request supports working only with orderId or only with clientOrderId.
❗ You cannot pass both values at the same time.
**Request BODY raw:**

```json
{
  "orderId": 2590468842,
  "market": "BTC_USDT",
  "price": "38635",
  "activationPrice": "123456",
  "amount": "2",
  "clientOrderId": "1a2s3f4g5h6v",
  "request": "{{request}}",
  "nonce": "{{nonce}}"
}
```

**Response:**

Available statuses:

- `Status 200` - Order successfully modified
- `Status 400` - Bad Request (client errors): Invalid arguments, order not found, quote expired, activation price issues
  - Error codes: 1, 2, 6, 20, 24, 101, 158
- `Status 422` - Unprocessable Entity (business logic validation): Balance insufficient, trading restrictions, order type conflicts, price bands exceeded
  - Error codes: 10, 11, 12, 13, 14, 15, 16, 17, 25, 27, 40, 42, 51, 103, 104, 105, 106, 111, 112, 113, 114, 115, 150, 151, 152, 153, 155, 157, 159, 160, 161, 162, 163, 250, 251, 300, 302, 330
- `Status 503` - Service temporarily unavailable

```json
[
  {
    "orderId": 2590468939,
    "clientOrderId": "1clientOrderId1",
    "market": "BTC_USDT",
    "side": "buy",
    "type": "limit",
    "timestamp": 1706023985.307382,
    "dealMoney": "0",
    "dealStock": "0",
    "amount": "0.001",
    "left": "0.001",
    "dealFee": "0",
    "ioc": false,
    "price": "38635",
    "postOnly": false,
    "status": "FILLED",
    "stp": "no",
    "rpi": true
  }
]
```

<details>
<summary><b>Errors:</b></summary>

```json
{
  "code": 31,
  "message": "Validation failed",
  "errors": {
    "market": ["Market is not available."]
  }
}
```

```json
{
  "code": 30,
  "message": "Validation failed",
  "errors": {
    "market": [
      "Market field should be a string.",
      "Market field format is invalid."
    ]
  }
}
```

```json
{
  "code": 32,
  "message": "Validation failed",
  "errors": {
    "amount": ["Amount field should be numeric string or number."]
  }
}
```

```json
{
  "code": 33,
  "message": "Validation failed",
  "errors": {
    "price": ["Price field should be numeric string or number."]
  }
}
```

```json
{
  "code": 31,
  "message": "Validation failed",
  "errors": {
    "market": ["Market is not available."]
  }
}
```

```json
{
  "code": 31,
  "message": "Validation failed",
  "errors": {
    "market": ["Market field should not be empty string."]
  }
}
```

```json
{
  "code": 32,
  "message": "Validation failed",
  "errors": {
    "amount": [
      "Given amount is less than min amount 0.001",
      "Min amount step = 0.000001"
    ]
  }
}
```

```json
{
  "code": 36,
  "message": "Validation failed",
  "errors": {
    "clientOrderId": ["ClientOrderId field should be a string."]
  }
}
```

```json
{
  "code": 36,
  "message": "Validation failed",
  "errors": {
    "clientOrderId": [
      "ClientOrderId field field should contain only latin letters, numbers and dashes."
    ]
  }
}
```

```json
{
  "code": 36,
  "message": "Validation failed",
  "errors": {
    "clientOrderId": [
      "This client order id is already used by the current account."
    ]
  }
}
```

```json
{
  "code": 37,
  "message": "Validation failed",
  "errors": {
    "ioc": ["Either IOC or PostOnly flag in true state is allowed."]
  }
}
```

```json
{
  "code": 30,
  "message": "Validation failed",
  "errors": {
    "total": ["Total(amount * price) is less than 5.05"]
  }
}
```

```json
{
  "code": 32,
  "message": "Validation failed",
  "errors": {
    "amount": [
      "Min amount step = 0.01" // money/stock precision is not taken into consideration when order was submitted
    ]
  }
}
```

```json
{
  "code": 33,
  "message": "Validation failed",
  "errors": {
    "price": ["Price field should be at least 10", "Min price step = 0.000001"]
  }
}
```

```json
{
  "code": 33,
  "message": "Validation failed",
  "errors": {
    "price": ["Price should be greater than 0."]
  }
}
```

```json
{
  "code": 35,
  "message": "Validation failed",
  "errors": {
    "maker_fee": ["Incorrect maker fee"]
  }
}
```

```json
{
  "code": 10,
  "message": "Inner validation failed",
  "errors": {
    "amount": ["Not enough balance."]
  }
}
```

```json
{
  "code": 1,
  "message": "Inner validation failed",
  "errors": {
    "amount": ["Invalid argument."]
  }
}
```

```json
{
  "code": 11,
  "message": "Validation failed",
  "errors": {
    "amount": ["Amount too small."]
  }
}
```

```json
{
  "code": 2,
  "message": "Inner validation failed",
  "errors": {
    "orderId": ["Unexecuted order was not found."]
  }
}
```

```json
{
  "code": 6,
  "message": "Inner validation failed",
  "errors": {
    "orderId": ["Unexecuted order was not found."]
  }
}
```

```json
{
  "code": 7,
  "message": "Validation failed",
  "errors": {
    "orderId": ["order not found."]
  }
}
```

```json
{
  "code": 10,
  "message": "Validation failed",
  "errors": {
    "amount": ["Not enough balance."]
  }
}
```

```json
{
  "code": 12,
  "message": "Validation failed",
  "errors": {
    "amount": ["The amount field value, that the API unable to process."]
  }
}
```

```json
{
  "code": 13,
  "message": "Validation failed",
  "errors": {
    "postOnly": ["This order couldn't be executed as a maker order and was canceled."]
  }
}
```

```json
{
  "code": 14,
  "message": "Validation failed",
  "errors": {
    "postOnly": ["This order couldn't be executed as a maker order and was canceled."]
  }
}
```

```json
{
  "code": 15,
  "message": "Validation failed",
  "errors": {
    "error": ["Please try again later."]
  }
}
```

```json
{
  "code": 16,
  "message": "Validation failed",
  "errors": {
    "error": ["Please try again later."]
  }
}
```

```json
{
  "code": 17,
  "message": "Validation failed",
  "errors": {
    "amount": ["Not enough balance."]
  }
}
```

```json
{
  "code": 40,
  "message": "Validation failed",
  "errors": {
    "postOnly": ["Limit order is not post only"]
  }
}
```

```json
{
  "code": 42,
  "message": "Validation failed",
  "errors": {
    "stp": ["trading group does not match"]
  }
}
```

```json
{
  "code": 51,
  "message": "Validation failed",
  "errors": {
    "price": ["Trading in the market is not allowed."]
  }
}
```

```json
{
  "code": 101,
  "message": "Validation failed",
  "errors": {
    "activation_price": ["Activation price should not be equal to the last price."]
  }
}
```

```json
{
  "code": 103,
  "message": "Validation failed",
  "errors": {
    "error": ["Max. limit of margin stop limit orders have been reached."]
  }
}
```

```json
{
  "code": 104,
  "message": "Validation failed",
  "errors": {
    "positionId": ["position doesn't exist."]
  }
}
```

```json
{
  "code": 105,
  "message": "Validation failed",
  "errors": {
    "takeProfit": ["Wrong activation price for take profit."]
  }
}
```

```json
{
  "code": 106,
  "message": "Validation failed",
  "errors": {
    "stopLoss": ["Wrong activation price for stop loss."]
  }
}
```

```json
{
  "code": 111,
  "message": "Validation failed",
  "errors": {
    "amount": ["margin position too big"]
  }
}
```

```json
{
  "code": 112,
  "message": "Validation failed",
  "errors": {
    "amount": ["margin pending orders value too big"]
  }
}
```

```json
{
  "code": 113,
  "message": "Validation failed",
  "errors": {
    "hedgeMode": ["Position side cannot be changed if there exists futures positions or orders"]
  }
}
```

```json
{
  "code": 114,
  "message": "Validation failed",
  "errors": {
    "hedgeMode": ["Order's position side does not match user's setting"]
  }
}
```

```json
{
  "code": 115,
  "message": "Validation failed",
  "errors": {
    "hedgeMode": ["Order would result in a new position in the opposite direction"]
  }
}
```

```json
{
  "code": 150,
  "message": "Validation failed",
  "errors": {
    "price": ["Can't place limit order."]
  }
}
```

```json
{
  "code": 151,
  "message": "Validation failed",
  "errors": {
    "activation_price": ["Wrong activation price for stop loss."]
  }
}
```

```json
{
  "code": 152,
  "message": "Validation failed",
  "errors": {
    "error": ["Max. limit of margin stop limit orders have been reached."]
  }
}
```

```json
{
  "code": 153,
  "message": "Validation failed",
  "errors": {
    "price": ["Not enough balance for limit order."]
  }
}
```

```json
{
  "code": 155,
  "message": "Validation failed",
  "errors": {
    "orderId": ["Can't modify conditional order."]
  }
}
```

```json
{
  "code": 157,
  "message": "Validation failed",
  "errors": {
    "amount": ["Wrong order deal size."]
  }
}
```

```json
{
  "code": 158,
  "message": "Validation failed",
  "errors": {
    "activation_price": ["Activation price can't be set for a limit order."]
  }
}
```

```json
{
  "code": 159,
  "message": "Validation failed",
  "errors": {
    "price": ["Limit price can't be set for stop market order."]
  }
}
```

```json
{
  "code": 160,
  "message": "Validation failed",
  "errors": {
    "orderId": ["tpsl orders can't be modified."]
  }
}
```

```json
{
  "code": 161,
  "message": "Validation failed",
  "errors": {
    "price": ["Wrong order conditions"]
  }
}
```

```json
{
  "code": 162,
  "message": "Validation failed",
  "errors": {
    "total": ["Total cannot be specified for this order type"]
  }
}
```

```json
{
  "code": 163,
  "message": "Validation failed",
  "errors": {
    "amount": ["Amount cannot be specified for this order type"]
  }
}
```

```json
{
  "code": 250,
  "message": "Validation failed",
  "errors": {
    "price": ["The Price is out of bands"]
  }
}
```

```json
{
  "code": 251,
  "message": "Validation failed",
  "errors": {
    "stopLimitPrice": ["The Price is out of bands"]
  }
}
```

```json
{
  "code": 300,
  "message": "Validation failed",
  "errors": {
    "request": ["fee not found"]
  }
}
```

```json
{
  "code": 302,
  "message": "Validation failed",
  "errors": {
    "amount": ["margin balance update magnitude limit exceeded"]
  }
}
```

```json
{
  "code": 330,
  "message": "Validation failed",
  "errors": {
    "request": ["fee not found"]
  }
}
```

```json
{
  "code": 20,
  "message": "Inner validation failed",
  "errors": {
    "quoteId": ["quote expired"]
  }
}
```

```json
{
  "code": 24,
  "message": "Inner validation failed",
  "errors": {
    "quoteId": ["quote not found."]
  }
}
```

```json
{
  "code": 25,
  "message": "Validation failed",
  "errors": {
    "amount": ["quote amount is too big"]
  }
}
```

```json
{
  "code": 27,
  "message": "Validation failed",
  "errors": {
    "market": ["conversion markets not found"]
  }
}
```

</details>

<ErrorCodeSelector 
  errorCodes={[
    { code: 1, message: "Inner validation failed", field: "amount", description: "Invalid argument." },
    { code: 2, message: "Inner validation failed", field: "orderId", description: "Unexecuted order was not found." },
    { code: 6, message: "Inner validation failed", field: "orderId", description: "Unexecuted order was not found." },
    { code: 7, message: "Validation failed", field: "orderId", description: "order not found." },
    { code: 10, message: "Validation failed", field: "amount", description: "Not enough balance." },
    { code: 11, message: "Validation failed", field: "amount", description: "Amount too small." },
    { code: 12, message: "Validation failed", field: "amount", description: "The amount field value, that the API unable to process." },
    { code: 13, message: "Validation failed", field: "postOnly", description: "This order couldn't be executed as a maker order and was canceled." },
    { code: 14, message: "Validation failed", field: "postOnly", description: "This order couldn't be executed as a maker order and was canceled." },
    { code: 15, message: "Validation failed", field: "error", description: "Please try again later." },
    { code: 16, message: "Validation failed", field: "error", description: "Please try again later." },
    { code: 17, message: "Validation failed", field: "amount", description: "Not enough balance." },
    { code: 20, message: "Inner validation failed", field: "quoteId", description: "quote expired" },
    { code: 24, message: "Inner validation failed", field: "quoteId", description: "quote not found." },
    { code: 25, message: "Validation failed", field: "amount", description: "quote amount is too big" },
    { code: 27, message: "Validation failed", field: "market", description: "conversion markets not found" },
    { code: 40, message: "Validation failed", field: "postOnly", description: "Limit order is not post only" },
    { code: 42, message: "Validation failed", field: "stp", description: "trading group does not match" },
    { code: 51, message: "Validation failed", field: "price", description: "Trading in the market is not allowed." },
    { code: 101, message: "Validation failed", field: "activation_price", description: "Activation price should not be equal to the last price." },
    { code: 103, message: "Validation failed", field: "error", description: "Max. limit of margin stop limit orders have been reached." },
    { code: 104, message: "Validation failed", field: "positionId", description: "position doesn't exist." },
    { code: 105, message: "Validation failed", field: "takeProfit", description: "Wrong activation price for take profit." },
    { code: 106, message: "Validation failed", field: "stopLoss", description: "Wrong activation price for stop loss." },
    { code: 111, message: "Validation failed", field: "amount", description: "margin position too big" },
    { code: 112, message: "Validation failed", field: "amount", description: "margin pending orders value too big" },
    { code: 113, message: "Validation failed", field: "hedgeMode", description: "Position side cannot be changed if there exists futures positions or orders" },
    { code: 114, message: "Validation failed", field: "hedgeMode", description: "Order's position side does not match user's setting" },
    { code: 115, message: "Validation failed", field: "hedgeMode", description: "Order would result in a new position in the opposite direction" },
    { code: 150, message: "Validation failed", field: "price", description: "Can't place limit order." },
    { code: 151, message: "Validation failed", field: "activation_price", description: "Wrong activation price for stop loss." },
    { code: 152, message: "Validation failed", field: "error", description: "Max. limit of margin stop limit orders have been reached." },
    { code: 153, message: "Validation failed", field: "price", description: "Not enough balance for limit order." },
    { code: 155, message: "Validation failed", field: "orderId", description: "Can't modify conditional order." },
    { code: 157, message: "Validation failed", field: "amount", description: "Wrong order deal size." },
    { code: 158, message: "Validation failed", field: "activation_price", description: "Activation price can't be set for a limit order." },
    { code: 159, message: "Validation failed", field: "price", description: "Limit price can't be set for stop market order." },
    { code: 160, message: "Validation failed", field: "orderId", description: "tpsl orders can't be modified." },
    { code: 161, message: "Validation failed", field: "price", description: "Wrong order conditions" },
    { code: 162, message: "Validation failed", field: "total", description: "Total cannot be specified for this order type" },
    { code: 163, message: "Validation failed", field: "amount", description: "Amount cannot be specified for this order type" },
    { code: 250, message: "Validation failed", field: "price", description: "The Price is out of bands" },
    { code: 251, message: "Validation failed", field: "stopLimitPrice", description: "The Price is out of bands" },
    { code: 300, message: "Validation failed", field: "request", description: "fee not found" },
    { code: 302, message: "Validation failed", field: "amount", description: "margin balance update magnitude limit exceeded" },
    { code: 330, message: "Validation failed", field: "request", description: "fee not found" }
  ]}
  title="Modify Order Error Codes"
/>