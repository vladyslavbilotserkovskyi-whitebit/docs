---
title: "Collateral Limit Order"
openapi: "/openapi/private/http-trade-v4.yaml POST /api/v4/order/collateral/limit"
---

### Collateral Limit Order

<ApiEndpoint method="POST" path="/api/v4/order/collateral/limit" />

This endpoint creates [limit order](./../glossary.md#limit-order) using [collateral balance](./../glossary.md#balance-collateral)

❗ Rate limit 10000 requests/10 sec.

**Response is cached for:**
NONE

**Parameters:**

| Name          | Type    | Mandatory                        | Description                                                                                                                                                                                                                                                                                       |
| ------------- | ------- | -------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| market        | String  | **Yes**                          | Available margin market. Example: BTC_USDT                                                                                                                                                                                                                                                        |
| side          | String  | **Yes**                          | Order type. Variables: 'buy' / 'sell' Example: 'buy'. For open long position you have to use **buy**, for short **sell**. Also to close current position you have to place opposite [order](./../glossary.md#orders) with current position amount.                                                |
| amount        | String  | **Yes**                          | ⚠️️Amount of [**`stock`**](./../glossary.md#stock) currency to **buy** or **sell**.                                                                                                                                                                                                               |
| price         | String  | **Yes**                          | Price in [money](./../glossary.md#money) currency. Example: '9800'                                                                                                                                                                                                                                |
| clientOrderId | String  | **No**                           | Identifier should be unique and contain letters, dashes, numbers, dots or underscores. The identifier must be unique.                                                                                                                                                                             |
| stopLoss      | String  | **No**                           | Stop loss price, if exist create [OTO](./../glossary.md#OTO) with stop loss                                                                                                                                                                                                                       |
| takeProfit    | String  | **No**                           | Take profit price, if exist create [OTO](./../glossary.md#OTO) with take profit                                                                                                                                                                                                                   |
| postOnly      | boolean | **No**                           | Orders are guaranteed to be the [maker](./../glossary.md#maker) order when [executed](./../glossary.md#finished-orders). Variables: true / false Example: false.                                                                                                                                  |
| ioc           | boolean | **No**                           | An immediate or cancel order (IOC) is an order that attempts to execute all or part immediately and then cancels any unfilled portion of the order. Variables: 'true' / 'false' Example: 'false'.                                                                                                 |
| bboRole       | Integer | **No**                           | When you activate the [BBO](./../glossary.md#bbo) option when placing Limit orders, the system automatically selects the best market prices for executing these orders in one of two ways. Variables: 1 - Queue Method / 2 - Counterparty Method. You can use 2 method with ioc flag. Example: 1. |
| stp           | String  | **No**                           | Self trade prevention mode. Variables: 'no / 'cancel_both' / 'cancel_new' /'cancel_old'. Example: 'no'.                                                                                                                                                                                           |
| positionSide  | String  | **Yes, when hedge mode enabled** | Defines the position direction. Variables: 'LONG / 'SHORT' / 'BOTH'. Example: 'BOTH'. See [positionSide](./../glossary.md#position-side)                                                                                                                                                          |
| rpi           | boolean | **No**                           | Retail Price Improvement(RPI) order: Order type designed to offer better prices to retail users. It is post-only and can match only with orders from the Web or Mobile App. RPI orders can be placed only by the designated Market Makers. Example: true                                          |

**Request BODY raw:**

```json
{
  "market": "BTC_USDT",
  "side": "buy",
  "amount": "0.01",
  "price": "40000",
  "postOnly": false,
  "ioc": false,
  "clientOrderId": "order1987111",
  "stopLoss": "50000",
  "takeProfit": "30000",
  "positionSide": "LONG",
  "rpi": true,
  "request": "{{request}}",
  "nonce": "{{nonce}}"
}
```

**Response:**
Available statuses:

- `Status 200`
- `Status 422 if inner validation failed`
- `Status 503 if service temporary unavailable`

```json
{
  "orderId": 4180284841, // order id
  "clientOrderId": "order1987111", // custom client order id; "clientOrderId": "" - if not specified.
  "market": "BTC_USDT", // deal market
  "side": "buy", // order side
  "type": "limit", // order type
  "timestamp": 1595792396.165973, // timestamp of order creation
  "dealMoney": "0", // if order finished - amount in money currency that is finished
  "dealStock": "0", // if order finished - amount in stock currency that is finished
  "amount": "0.01", // amount
  "left": "0.001", // if order not finished - rest of the amount that must be finished
  "dealFee": "0", // fee in money that you pay if order is finished
  "price": "40000", // price
  "postOnly": false, // PostOnly
  "ioc": false, // IOC
  "status": "FILLED", // order status
  "stp": "no", // self trade prevention mode
  "oto": {
    // OTO order data - if stopLoss or takeProfit is specified
    "otoId": 29457221, // ID of the OTO
    "stopLoss": "30000", // stop loss order price - if stopLoss is specified
    "takeProfit": "50000" // take profit order price - if takeProfit is specified
  },
  "positionSide": "LONG", // position side - LONG or SHORT or BOTH
  "rpi": true // RPI order flag
}
```

<details>
<summary><b>Errors:</b></summary>

Error codes:

- `31` - market is disabled for trading
- `32` - incorrect amount (it is less than or equals zero or its precision is too big)
- `33` - incorrect price (it is less than or equals zero or its precision is too big)
- `36` - incorrect clientOrderId (invalid string or not unique id)
- `37` - ioc and postOnly flags are both true

---

</details>

Detailed information about errors response you can find in [Create limit order](#create-limit-order)

---