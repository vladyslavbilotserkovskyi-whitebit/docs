---
title: "Create collateral OCO order"
openapi: "/openapi/private/http-trade-v4.yaml POST /api/v4/order/collateral/oco"
---

### Create collateral OCO order

<ApiEndpoint method="POST" path="/api/v4/order/collateral/oco" />

This endpoint creates [collateral](./../glossary.md#collateral) trading [OCO order](./../glossary.md#oco-orders)

‚ùó Rate limit 10000 requests/10 sec.

**Response is cached for:**
NONE

**Parameters:**

| Name             | Type          | Mandatory                        | Description                                                                                                                              |
| ---------------- | ------------- | -------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
| market           | String        | **Yes**                          | Available [market](./../glossary.md#market). Example: BTC_USDT                                                                           |
| side             | String        | **Yes**                          | Order type. Variables: 'buy' / 'sell' Example: 'buy'                                                                                     |
| amount           | String/Number | **Yes**                          | Amount of [stock](./../glossary.md#stock) currency to buy or sell. Example: '0.001' or 0.001                                             |
| price            | String/Number | **Yes**                          | Price in [money](./../glossary.md#money) currency for [limit order](./../glossary.md#limit-order). Example: '9800' or 9800               |
| activation_price | String/Number | **Yes**                          | Activation price in [money](./../glossary.md#money) currency. Example: '10000' or 10000                                                  |
| stop_limit_price | String/Number | **Yes**                          | Price in [money](./../glossary.md#money) currency for [stop limit order](./../glossary.md#stop-limit-order). Example: '10100' or 10100   |
| clientOrderId    | String        | **No**                           | Identifier should be unique and contain letters, dashes, numbers, dots or underscores. The identifier must be unique.                    |
| stp              | String        | **No**                           | Self trade prevention mode. Variables: 'no / 'cancel_both' / 'cancel_new' /'cancel_old'. Example: 'no'.                                  |
| positionSide     | String        | **Yes, when hedge mode enabled** | Defines the position direction. Variables: 'LONG / 'SHORT' / 'BOTH'. Example: 'BOTH'. See [positionSide](./../glossary.md#position-side) |

**Request BODY raw:**

```json
{
  "market": "BTC_USDT",
  "side": "buy",
  "amount": "0.001",
  "price": "40000",
  "activation_price": "41000",
  "stop_limit_price": "42000",
  "clientOrderId": "order1987111",
  "request": "{{request}}",
  "nonce": "{{nonce}}"
}
```

**Response:**
Available statuses:

- `Status 200`
- `Status 400 if inner validation failed`
- `Status 422 if request validation failed`
- `Status 503 if service temporary unavailable`

```json
{
  "id": 117703764513, // oco order id
  "stop_loss": {
    "orderId": 117703764514, // unexecuted order ID
    "clientOrderId": "", // custom order id; "clientOrderId": "" - if not specified.
    "market": "BTC_USDT", // currency market
    "side": "buy", // order side
    "type": "stop limit", // unexecuted order type
    "timestamp": 1594605801.49815, // timestamp of order creation
    "dealMoney": "0", // executed amount in money
    "dealStock": "0", // executed amount in stock
    "amount": "2.241379", // active order amount
    "takerFee": "0.001", // taker fee ratio. If the number less than 0.0001 - it will be rounded to zero
    "makerFee": "0.001", // maker fee ratio. If the number less than 0.0001 - it will be rounded to zero
    "left": "2.241379", // unexecuted amount in stock
    "dealFee": "0", // executed fee by deal
    "post_only": false, // orders are guaranteed to be the maker order when executed.
    "mtime": 1662478154.941582, // timestamp of order modification
    "price": "19928.79", // unexecuted order price
    "activation_price": "29928.79", // activation price
    "activation_condition": "gte", // activation condition
    "activated": 0, // activation status
    "status": "FILLED", // order status
    "stp": "no", // self trade prevention mode
    "positionSide": "LONG" // position side - LONG or SHORT or BOTH
  },
  "take_profit": {
    "orderId": 117703764515, // unexecuted order ID
    "clientOrderId": "", // custom order id; "clientOrderId": "" - if not specified.
    "market": "BTC_USDT", // currency market
    "side": "buy", // order side
    "type": "limit", // unexecuted order type
    "timestamp": 1662478154.941582, // timestamp of order creation
    "dealMoney": "0", // executed amount in money
    "dealStock": "0", // executed amount in stock
    "amount": "0.635709", // active order amount
    "takerFee": "0.001", // taker fee ratio. If the number less than 0.0001 - it will be rounded to zero
    "makerFee": "0.001", // maker fee ratio. If the number less than 0.0001 - it will be rounded to zero
    "left": "0.635709", // unexecuted amount in stock
    "dealFee": "0", // executed fee by deal
    "post_only": false, // orders are guaranteed to be the maker order when executed.
    "mtime": 1662478154.941582, // timestamp of order modification
    "price": "9928.79", // unexecuted order price
    "status": "FILLED", // order status
    "stp": "no", // self trade prevention mode
    "positionSide": "LONG" // position side - LONG or SHORT or BOTH
  }
}
```

<details>
<summary><b>Errors:</b></summary>

Error codes:

- `30` - default validation error code
- `31` - market validation failed
- `32` - amount validation failed
- `33` - price validation failed
- `36` - clientOrderId validation failed

```json
{
  "code": 30,
  "message": "Validation failed",
  "errors": {
    "activation_price": ["Activation price field is required."],
    "amount": ["Amount field is required."],
    "market": ["Market field is required."],
    "price": ["Price field is required."],
    "side": ["Side field is required."]
  }
}
```

```json
{
  "code": 30,
  "message": "Validation failed",
  "errors": {
    "side": ["Side field should contain only 'buy' or 'sell' values."]
  }
}
```

```json
{
  "code": 32,
  "message": "Validation failed",
  "errors": {
    "amount": ["Amount field should be numeric string or number."]
  }
}
```

```json
{
  "code": 33,
  "message": "Validation failed",
  "errors": {
    "price": ["Price field should be numeric string or number."]
  }
}
```

```json
{
  "code": 33,
  "message": "Validation failed",
  "errors": {
    "stop_limit_price": [
      "Stop_limit_price field should be numeric string or number."
    ]
  }
}
```

```json
{
  "code": 31,
  "message": "Validation failed",
  "errors": {
    "market": ["Market is not available."]
  }
}
```

```json
{
  "code": 31,
  "message": "Validation failed",
  "errors": {
    "market": ["Market field should not be empty string."]
  }
}
```

```json
{
  "code": 32,
  "message": "Validation failed",
  "errors": {
    "amount": ["Not enough balance."]
  }
}
```

```json
{
  "code": 32,
  "message": "Validation failed",
  "errors": {
    "amount": [
      "Given amount is less than min amount 0.001",
      "Min amount step = 0.000001"
    ]
  }
}
```

```json
{
  "code": 30,
  "message": "Validation failed",
  "errors": {
    "total": ["Total(amount * price) is less than 5.05"]
  }
}
```

```json
{
  "code": 36,
  "message": "Validation failed",
  "errors": {
    "clientOrderId": ["ClientOrderId field should be a string."]
  }
}
```

```json
{
  "code": 36,
  "message": "Validation failed",
  "errors": {
    "clientOrderId": [
      "ClientOrderId field field should contain only latin letters, numbers and dashes."
    ]
  }
}
```

```json
{
  "code": 36,
  "message": "Validation failed",
  "errors": {
    "clientOrderId": [
      "This client order id is already used by the current account."
    ]
  }
}
```

```json
{
  "code": 32,
  "message": "Validation failed",
  "errors": {
    "amount": ["Amount should be greater than 0."]
  }
}
```

```json
{
  "code": 33,
  "message": "Validation failed",
  "errors": {
    "price": ["Price field should be at least 10", "Min price step = 0.000001"]
  }
}
```

```json
{
  "code": 33,
  "message": "Validation failed",
  "errors": {
    "stop_limit_price": [
      "Stop_limit_price field should be at least 10",
      "Min price step = 0.000001"
    ]
  }
}
```

```json
{
  "code": 33,
  "message": "Validation failed",
  "errors": {
    "price": ["Price should be greater than 0."]
  }
}
```

```json
{
  "code": 33,
  "message": "Validation failed",
  "errors": {
    "stop_limit_price": ["Stop_limit_price should be greater than 0."]
  }
}
```

```json
{
  "code": 35,
  "message": "Validation failed",
  "errors": {
    "maker_fee": ["Incorrect maker fee"]
  }
}
```

```json
{
  "code": 30,
  "message": "Validation failed",
  "errors": {
    "activationPrice": [
      "Activation price should not be equal to the last price"
    ]
  }
}
```

```json
{
  "code": 30,
  "message": "Validation failed",
  "errors": {
    "activation_price": ["Activation price should be numeric string."]
  }
}
```

```json
{
  "code": 30,
  "message": "Validation failed",
  "errors": {
    "activationPrice": ["Activation price should be greater than 0."]
  }
}
```

```json
{
  "code": 30,
  "message": "Validation failed",
  "errors": {
    "activationPrice": ["Empty history"]
  }
}
```

```json
{
  "code": 30,
  "message": "Validation failed",
  "errors": {
    "activationPrice": ["Min activation price = 10"]
  }
}
```

```json
{
  "code": 30,
  "message": "Validation failed",
  "errors": {
    "activationPrice": ["Min activation price step = 0.00001"]
  }
}
```

```json
{
  "code": 30,
  "message": "Validation failed",
  "errors": {
    "activationPrice": [
      "Activation price should not be equal to the last price"
    ]
  }
}
```

```json
{
  "code": 30,
  "message": "Validation failed",
  "errors": {
    "lastPrice": ["internal error"]
  }
}
```

```json
{
  "code": 10,
  "message": "Inner validation failed",
  "errors": {
    "amount": ["Not enough balance."]
  }
}
```

```json
{
  "code": 1,
  "message": "Inner validation failed",
  "errors": {
    "amount": ["Invalid argument."]
  }
}
```

```json
{
  "code": 11,
  "message": "Inner validation failed",
  "errors": {
    "amount": ["Amount too small."]
  }
}
```

```json
{
  "code": 16,
  "message": "Inner validation failed",
  "errors": {
    "error": ["Please try again later."]
  }
}
```

```json
{
  "code": 15,
  "message": "Inner validation failed",
  "errors": {
    "error": ["Please try again later."]
  }
}
```

```json
{
  "code": 14,
  "message": "Inner validation failed",
  "errors": {
    "postOnly": [
      "This order couldn't be executed as a maker order and was canceled."
    ]
  }
}
```

```json
{
  "code": 153,
  "message": "Inner validation failed",
  "errors": {
    "price": ["Not enough balance for limit order."]
  }
}
```

```json
{
  "code": 150,
  "message": "Inner validation failed",
  "errors": {
    "price": ["Can't place limit order."]
  }
}
```

```json
{
  "code": 151,
  "message": "Inner validation failed",
  "errors": {
    "activation_price": ["Wrong activation price for stop loss."]
  }
}
```

```json
{
  "code": 152,
  "message": "Inner validation failed",
  "errors": {
    "price": ["Not enough balance for stop limit order."]
  }
}
```

</details>

---