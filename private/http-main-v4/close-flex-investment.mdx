---
title: "Close Flex Investment"
openapi: /openapi/private/main_api_v4.yaml POST /api/v4/main-account/smart-flex/investments/close
---

### Close Flex Investment

<ApiEndpoint method="POST" path="/api/v4/main-account/smart-flex/investments/close" />

Completely close investment and withdraw all funds.

‚ùó Rate limit 1000 requests/10 sec.

**Response is cached for:**
NONE

**Parameters:**

| Name | Type   | Mandatory | Description              |
|------|--------|-----------|--------------------------|
| plan | String | **Yes**   | Plan external ID (UUID). |

**Validation Rules**

- plan: required, string, UUID format, must exist
- Investment must be ACTIVE

**Request BODY raw:**

```json
{
  "plan": "8f2e9d3c-1a4b-4c2d-9e5f-6a7b8c9d0e1f",
  "request": "{{request}}",
  "nonce": "{{nonce}}"
}
```

**Response:**

Available statuses:

- `Status 201`

*Same as invest endpoint.*
```json
{
  "data": {
    "transactionId": "tx_9f3e0d4c-2b5c-4d3e-8f6g-7a8b9c0d1e2f"
  }
}
```

<details>
<summary><b>Errors:</b></summary>

**Validation Error (400):**
```json
{
  "code": 0,
  "message": "Validation failed",
  "errors": {
    "plan": ["validation.required"]
  }
}
```

**Business Logic Error (422):**
```json
{
  "code": 2,
  "message": "Inner validation failed",
  "errors": {
    "investment": ["Investment must be in ACTIVE status", "Investment amount must be > 0"]
  }
}
```

</details>

---